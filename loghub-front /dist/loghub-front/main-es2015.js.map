{"version":3,"sources":["webpack:///./$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.html","webpack:///./src/app/logs.component.html","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/log.ts","webpack:///./src/app/logs.component.css","webpack:///./src/app/logs.component.ts","webpack:///./src/app/publisher.web.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\n<div style=\\\"text-align:center\\\">\\n  <h2>\\n    app: {{ title }}\\n  </h2>\\n</div>\\n<app-logs></app-logs>\\n\\n\"","module.exports = \"<div>\\n    <div>\\n        <div>Current time: {{ time | async }}</div>\\n        <div>Random events: {{ rndStream | async | json }}</div>\\n        <button class=\\\"button\\\" (click)=\\\"connect2database()\\\">Database</button>\\n        <button class=\\\"button\\\" (click)=\\\"connect2kafka()\\\">Kafka</button>\\n\\n        <div>\\n            <label>Selected log: </label>{{selectedLog| json}}\\n        </div>\\n\\n        <table id=\\\"logs\\\">\\n            <colgroup>\\n                <col style=\\\"width:30%\\\">\\n                <col style=\\\"width:10%\\\">\\n                <col style=\\\"width:60%\\\">\\n            </colgroup>\\n            <thead>\\n                <tr>\\n                    <th>Log Key</th>\\n                    <th>Src IP addr</th>\\n                    <th>User ID</th>\\n                </tr>\\n            </thead>\\n            <tbody>\\n                <tr *ngFor=\\\"let log of observLogs | async\\\" [class.success]=\\\"log === selectedLog\\\"\\n                    (click)=\\\"onSelect(log)\\\">\\n                    <td>{{log.key.logId}}</td>\\n                    <td>{{log.key.ipAddr}}</td>\\n                    <td>{{log.key.userId}}</td>\\n                </tr>\\n            </tbody>\\n        </table>\\n    </div>\\n\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIn0= */\"","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'loghub-front';\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { LogsComponent } from './logs.component';\nimport { PublisherWebService } from './publisher.web.service';\n\n@NgModule({\n    declarations: [\n        AppComponent,\n        LogsComponent\n    ],\n    imports: [\n        BrowserModule\n    ],\n    providers: [\n        PublisherWebService\n    ],\n    bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import {LogPrimaryKey} from './log-primary-key';\r\n\r\nexport class Log {\r\n  key: LogPrimaryKey;\r\n  level: string;\r\n  record: string;\r\n\r\n  constructor( key: LogPrimaryKey, level: string, record: string) {\r\n    this.key = key;\r\n    this.level = level;\r\n    this.record = record;\r\n  }\r\n}\r\n","module.exports = \"\\n.button {\\n  width: 100px;\\n  margin: 5px;\\n}\\n\\n#logs {\\n  font-family: \\\"Trebuchet MS\\\", Arial, Helvetica, sans-serif;\\n  border-collapse: collapse;\\n  width: 100%;\\n}\\n\\n#logs td, #logs th {\\n  border: 1px solid #ddd;\\n  padding: 8px;\\n  cursor: crosshair;\\n}\\n\\n#logs tr:nth-child(even) {\\n  background-color: #f2f2f2;\\n}\\n\\n#logs tr:hover {\\n  background-color: #dd0;\\n}\\n\\n#logs th {\\n  padding-top: 12px;\\n  padding-bottom: 12px;\\n  text-align: left;\\n  background-color: #4CAF50;\\n  color: white;\\n}\\n\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9ncy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQTtFQUNFLFlBQVk7RUFDWixXQUFXO0FBQ2I7O0FBRUE7RUFDRSx5REFBeUQ7RUFDekQseUJBQXlCO0VBQ3pCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLHNCQUFzQjtFQUN0QixZQUFZO0VBQ1osaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0Usc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLG9CQUFvQjtFQUNwQixnQkFBZ0I7RUFDaEIseUJBQXlCO0VBQ3pCLFlBQVk7QUFDZCIsImZpbGUiOiJzcmMvYXBwL2xvZ3MuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLmJ1dHRvbiB7XG4gIHdpZHRoOiAxMDBweDtcbiAgbWFyZ2luOiA1cHg7XG59XG5cbiNsb2dzIHtcbiAgZm9udC1mYW1pbHk6IFwiVHJlYnVjaGV0IE1TXCIsIEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4jbG9ncyB0ZCwgI2xvZ3MgdGgge1xuICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xuICBwYWRkaW5nOiA4cHg7XG4gIGN1cnNvcjogY3Jvc3NoYWlyO1xufVxuXG4jbG9ncyB0cjpudGgtY2hpbGQoZXZlbikge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xufVxuXG4jbG9ncyB0cjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNkZDA7XG59XG5cbiNsb2dzIHRoIHtcbiAgcGFkZGluZy10b3A6IDEycHg7XG4gIHBhZGRpbmctYm90dG9tOiAxMnB4O1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNENBRjUwO1xuICBjb2xvcjogd2hpdGU7XG59XG5cbiJdfQ== */\"","import { Component } from \"@angular/core\";\nimport { interval, Observable, Observer } from \"rxjs\";\nimport { distinctUntilChanged, map, scan } from \"rxjs/operators\";\nimport { Log } from \"./log\";\nimport { PublisherWebService } from \"./publisher.web.service\";\n\n@Component({\n  selector: \"app-logs\",\n  templateUrl: \"./logs.component.html\",\n  styleUrls: [\"./logs.component.css\"],\n  providers: [PublisherWebService]\n})\nexport class LogsComponent {\n  private baseUrl: string = \"http://localhost:8085/query/\";\n  public limit: number = 30;\n\n  public selectedLog: Log;\n  public observLogs: Observable<Log[]>;\n  private dbConnected: boolean = false;\n  private kafkaConnected: boolean = false;\n\n  kafkaService: PublisherWebService = new PublisherWebService(\n    this.baseUrl + \"kafka\"\n  );\n  dbService: PublisherWebService = new PublisherWebService(\n    this.baseUrl + this.limit\n  );\n\n  rndStream: Observable<number> = interval(200).pipe(\n    scan((a, c) => [...a, c], []),\n    map(r => r[Math.floor(Math.random() * r.length)]),\n    distinctUntilChanged()\n  );\n\n  time = new Observable<string>((observer: Observer<string>) => {\n    setInterval(() => observer.next(new Date().toString()), 1000);\n  });\n\n  constructor() {}\n\n  connect2database(): void {\n    if (!this.dbConnected) {\n      this.observLogs = this.dbService.getPproducer(this.limit);\n      this.dbConnected = true;\n    } else {\n      this.dbService.closeEvenerSource();\n      this.dbConnected = false;\n      this.connect2database();\n    }\n  }\n\n  connect2kafka(): void {\n    if (!this.kafkaConnected) {\n      this.observLogs = this.kafkaService.getPproducer(this.limit);\n      this.kafkaConnected = true;\n    } else {\n      this.kafkaService.closeEvenerSource();\n      this.kafkaConnected = false;\n      this.connect2kafka();\n    }\n  }\n\n  onSelect(log: Log): void {\n    this.selectedLog = log;\n    console.log(\"Selected log: \" + log);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, Subscriber } from 'rxjs';\nimport { Log } from './log';\n\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class PublisherWebService {\n    eventSource: EventSource = null;\n    subscriber: Subscriber<Array<Log>> = null;\n    //srvUrl: string = \"http://localhost:8085/query/\";\n    logs: Log[];\n\n    constructor(private srvUrl: string){    }\n\n    getPproducer(limit?: number): Observable<Array<Log>> {\n        this.logs = [];\n\n        return new Observable((subscriber) => {\n            try {\n                this.subscriber = subscriber;\n                this.eventSource = new EventSource(this.srvUrl);\n\n                this.eventSource.onmessage = (event) => {\n                    const log = JSON.parse(event.data);\n                    this.logs.push(new Log(log['key'], log['level'], log['record']));\n                    this.subscriber.next(this.logs);\n                };\n\n                this.eventSource.onerror = (err) => {\n                    switch (this.eventSource.readyState) {\n                        case 0:\n                            this.eventSource.close();\n                            this.eventSource = null;\n                            subscriber.complete();\n                            break;\n                        default:\n                            subscriber.error('EventSource error: ' + err);\n                            console.log('EventSource error: ', err);\n                    }\n\n                }\n            } catch (err) {\n                console.log.apply('Could not get observable: ' + err);\n            }\n        });\n\n    }\n\n    closeEvenerSource() {\n        if (this.eventSource != null) {\n            this.eventSource.close;\n            this.eventSource = null;\n        }\n        if (this.subscriber != null) {\n            this.subscriber.unsubscribe();\n            this.subscriber = null;\n        }\n    }\n\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}